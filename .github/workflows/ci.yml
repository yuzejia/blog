# name æ ‡è¯†ä¸€ä¸‹è¿™ä¸ªci æ–‡ä»¶åç§° çº¯è¯­ä¹‰åŒ–çš„é¡¹ï¼Œæ²¡æœ‰ä»»ä½•æ„ä¹‰
name: CI

# é…ç½®è¯¥ä»“åº“çš„åˆ†æ”¯è§¦å‘ä»€ä¹ˆäº‹æƒ…åè¿›è¡Œè¯¥ ci çš„è°ƒç”¨
on:
  # master push åè§¦å‘
  push:
    branches:
      - master
  # master master pull_request è§¦å‘
  pull_request:
    branches:
      - master

# jobs æ˜¯ä¸€ä¸ªåŠŸèƒ½è„šæœ¬çš„ç»´åº¦é›†åˆã€‚æ¯”å¦‚é…ç½®æ£€æµ‹åº“è¯­æ³• å‘å¸ƒåº“ å¯ä»¥ä½œä¸ºä¸¤ä¸ªå°å·¥ä½œï¼ˆjobï¼‰.ä¸€ä¸ªyml å¯ä»¥è¿è¡Œå¤šä¸ªjob
jobs:

# ä¸€ä¸ªlobs æ‹¥æœ‰ setup / build / test çš„æŒç»­æ‰§è¡Œå•å…ƒã€‚è¿™ä¸ªç»´åº¦å¤§äºsteps å°äºjobs
  build:

# è¯¥æ“ä½œè·‘åœ¨ä»€ä¹ˆç¯å¢ƒä¹‹ä¸‹ï¼Œæ”¯æŒ Ubuntu/windows/macOS
    runs-on: ubuntu-latest

    # steps æ ‡è¯†ä½¿ç”¨åˆ›å»ºå¥½çš„åŠŸèƒ½è„šæœ¬ï¼Œ 
    steps:
      - name: è¿å‡ºä»£ç 
      # uses æ ‡è¯†ä½¿ç”¨åˆ›å»ºå¥½çš„åŠŸèƒ½è„šæœ¬ï¼Œactions / æ ‡è¯†äº†è¿™ä¸ªgithub å…¬å¼€çš„è„šæœ¬åº“
      # è¿™é‡Œä½¿ç”¨ä¸€ä¸ªåä¸º checkout@master çš„è„šæœ¬åº“
        uses: actions/checkout@master

      - name: install 
        run: npm install

      - name: Install and Build ğŸ”§ 
        run: npm run build

      - name: Deploy ğŸš€
         uses: JamesIves/github-pages-deploy-action@3.7.1
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          BRANCH: gh-pages
          FOLDER: public